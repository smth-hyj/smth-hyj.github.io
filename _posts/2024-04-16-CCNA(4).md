---
title: CCNA 자격증 과정 (4)
date: 2024-04-16 09:00:00 +09:00
categories: [국비, CCNA]
tags: [whireshark, packet tracer, ccna, network]		# TAG는 반드시 소문자로 이루어져야함!
---  
# CCNA(4)
## 서브네팅과 VLSM
### 서브네팅

### VLSM
- VLSM : 서브넷팅을 실시한 이후에도 IP 주소 낭비를 방지하기위해 서브넷 마스크의 길이를 가변으로 가져가는 기능이다. 

1. VLSM 설정
    1. 조건 정의
    2. 호스트 ID 비트 계산
    3. VLSM 계산

    - [ex] VLSM 예제
        1. 조건 정의
            - 원본 네트워크 : 198.133.219.0/24
            - 필요한 서브 네트워크 개수 : 5
            - 최대 필요한 IP 개수 : 29
        2. 호스트 ID 비트 계산
            - $2^{x}-2 \geq 29$
            - $x = 5$
            - $2^5-2=30$
        3. VLSM 계산  
            1. 서브네팅 계산

                |$2^{12}$|$2^{11}$|$2^{10}$|$2^9$|$2^8$|$2^7$|$2^6$|$2^5$|$2^4$|$2^3$|$2^2$|$2^1$|$2^0$|
                |:-----:|:-----:|:------:|:-----:|:-----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|
                |4096|2048|1024|512|256|128|64|32|16|8|4|2|1|

                - $32 > x > 16$ => 1이 세개

                ```markdown
                192.133.219.000 00000
                255.255.255.111 00000 <- 255.255.255.224 = /27
                -------
                192.133.219.000 00000 <- Host 29개 할당
                192.133.219.001 00000 <- Host 25개 할당
                192.133.219.010 00000
                        ->  010 00000
                        ->  010 10000
                            ->  01000

                192.133.219.011 00000
                192.133.219.100 00000
                192.133.219.101 00000
                192.133.219.110 00000
                192.133.219.111 00000
                ```
            1. VLSM 계산
                1. IP가 많이 남는 대역 VLSM
                    - 192.168.219.010 00000 = 192.168.219.64/27
                    1. 조건 정의
                        - 네트워크 대역 : 198.133.219.64/27
                        - 최대 필요한 IP 개수 : 12
                    2. HOST ID 비트 계산
                        - $2^x - 2 \geq 12 $
                        - $x = 4$
                        - $2^4 -2 = 14$
                    3. VLSM 계산
                
                    |$2^{12}$|$2^{11}$|$2^{10}$|$2^9$|$2^8$|$2^7$|$2^6$|$2^5$|$2^4$|$2^3$|$2^2$|$2^1$|$2^0$|
                    |:-----:|:-----:|:------:|:-----:|:-----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|
                    |4096|2048|1024|512|256|128|64|32|16|8|4|2|1|

                    ```markdown
                    192.133.219.000 00000
                    255.255.255.111 10000 <- 255.255.255.224 = /28
                    -------
                    192.133.219.010 00000 <- 192.133.219.64 ~ 192.133.219.79
                    192.168.219.010 10000 <- 192.133.219.80 ~ 192.133.219.95
                    ```

                2. WAN P2P 구간 VLSM
                    - 조건 정의
                        - 원본 네트워크 : 198.133.219.80/28
                        - 최대 필요한 IP 개수 : 2개
                    - 호스트 ID 비트 계산
                        - $2^x -2 \geq 2$
                        - $x = 2$
                        - $2^2 -2 = 4$
                    - VLSM 계산

                    ```markdown
                    192.133.219.000 00000
                    255.255.255.111 11000 <- 255.255.255.224 = /29
                    -------
                    192.133.219.0101 00 00 <- WAN P2P
                    192.168.219.0101 01 00 <- WAN P2P
                    192.168.219.0101 10 00
                    192.168.219.0101 11 00
                    ```                    

## 주소 요약과 라우팅 업데이트 경로 요약
- 주소 요약
    - 클래스풀 요약
    - 상세 요약  
        [참고] CIDR(Classless Inter Domain Routing)

```markdown
[실습] 다음 내용을 요약하시오.

다음 내용들을 요약하시오.
[EX01] 199.172.1.0/24 ~ 199.172.7.0/24

199.172.00000 001.0
199.172.00000 010.0
199.172.00000 011.0
199.172.00000 100.0
199.172.00000 101.0
199.172.00000 110.0
199.172.00000 111.0
--------------------> 199.172.0.0/21
255.255.11111 000.0 <- 255.255.248.0 <- /21


[EX02] 121.160.32.0/24 ~ 121.160.127.0/24  

121.160.0 0100000.0  
121.160.0 0100001.0
121.160.0 0100010.0
~
121.160.0 1111111.0
--------------------> 121.160.0.0/17
255.255.1 0000000.0 <- 255.255.128.0 <- /17


[EX03] 13.13.0.0/24 ~ 13.13.63.0/24

13.13.00 000000.0
13.13.00 000001.0
13.13.00 000010.0
~
13.13.00 111111.0
--------------------> 13.13.0.0/18
255.255.11 000000.0 <- 255.255.192.0 <- /18


[EX04] 13.13.64.0/24 ~ 13.13.127.0/24

13.13.01 000000.0
13.13.01 000001.0
13.13.01 000010.0
~
13.13.01 111111.0
--------------------> 13.13.64.0/18
255.255.11 000000.0 <- 255.255.192.0 <- /18


[EX05] 13.13.128.0/24 ~ 13.13.191.0/24

13.13.10 000000.0
13.13.10 000001.0
13.13.10 000010.0
~
13.13.10 111111.0
--------------------> 13.13.0.0/18
255.255.11 000000.0 <- 255.255.192.0 <- /18


[EX06] 13.13.192.0/24 ~ 13.13.255.0/24

13.13.11 000000.0
13.13.11 000001.0
13.13.11 000010.0
~
13.13.11 111111.0
--------------------> 13.13.0.0/18
255.255.11 000000.0 <- 255.255.192.0 <- /18


[EX07] A 클래스(0.0.0.0 ~ 127.255.255.255)

00000000.0.0.0
~
01111111.255.255.255
--------------------> 0.0.0.0/1
1 0000000.0.0.0 <- 128.0.0.0 <- /1


[EX08] B 클래스(128.0.0.0 ~ 191.255.255.255)

10000000.0.0.0
~
10111111.255.255.255
--------------------> 128.0.0.0/2
11 000000.0.0.0 <- 192.0.0.0 <- /2


[EX09] C 클래스(192.0.0.0 ~ 223.255.255.255)

110 00000.0.0.0
~
110 11111.255.255.255
--------------------> 192.0.0.0/3
111 00000.0.0.0 <- 224.0.0.0 <- /3


[EX10] 61.40.0.0 ~ 61.43.255.255

61.00101000.0.0
61.00101001.0.0
61.00101010.0.0
61.00101011.0.0
--------------------> 61.40.0.0/30
255.255.111111 00.0 <- 255.255.252.0 <- /30


[EX11] 사설 A 클래스(10.x.x.x)

00001010.0.0.0
~
00001010.255.255.255
--------------------> 0.0.0.0/1
11111111.0.0.0 <- 255.0.0.0 <- /8


[EX12] 사설 B 클래스(172.16.x.x ~ 172.31.x.x)

10101100.0001 0000.0.0
~
10101100.0001 1111.255.255
--------------------> 172.16.x.x/12
11111111.11110000.0.0 <- 255.240.0.0 <- /1


```

## 라우터 구조
1. 내부 구조
    - CPU
    - DRAM(== RAM) : 휘발성 메모리
    - FLASH 메모리(== disk)
    - NVRAM 비휘발성 메모리
    - ROM
2. 외부 구조
    - 인터페이스
        - 